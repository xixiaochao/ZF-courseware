<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
<script>
    /*
        单例模式功能相对单一,用来描述具体一个事务。

        让其复杂，那就需要高级单例模式
        使用一个匿名函数自执行函数，这个函数返回一个对象

        高级单例模式，可以实现高内聚、低耦合
    */

    let obj = (function(){
        let num = 0;
        function fn(n){
            for(let i=0;i<=n;i++){
                num = i;
            }
            return num + '岁';
        }
        return {
            name:'李兵',
            age:fn(22),
            fn:fn
        }
    })();

    let obj2 = (function(){
        let age = obj.fn(30);
        function fn(){}
        console.log(age);
    })()
    console.log(obj)

</script>
</body>
</html>