<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <style>
        #box {
            width: 100px;
            height: 100px;
            position: absolute;
            top: 0;
            left: 0;
            background: red;
        }
    </style>
</head>

<body>
    <div id="box"></div>
    <script>
        /*
            当按键的时候会停顿一下，这个停顿有助于提高用户体验
            避免重复输入
    
            作业:
                按两个方向键就斜着跑。
    
        */
        let numL = 0;
        let numT = 0;
        let timer = null;
        document.onkeydown = function (ev) {
            clearInterval(timer);
            timer = setInterval(() => {
                if (ev.keyCode === 37 && ev.shiftKey) {//左 左上
                    numL -= 10;
                    box.style.left = numL + 'px'; 
                    numT -= 10;
                    box.style.top = numT + 'px';
                } else if (ev.keyCode === 38 && ev.shiftKey) {//上 上右
                    numT -= 10;
                    box.style.top = numT + 'px';
                    numL += 10;
                    box.style.left = numL + 'px';
                } else if (ev.keyCode === 39 && ev.shiftKey) {//右 右下
                    numL += 10;
                    box.style.left = numL + 'px';
                    numT += 10;
                    box.style.top = numT + 'px';
                } else if (ev.keyCode === 40 && ev.shiftKey) {//下 左下
                    numT += 10;
                    box.style.top = numT + 'px';
                    numL -= 10;
                    box.style.left = numL + 'px';
                } else if (ev.keyCode === 37) {
                    numL -= 10;
                    box.style.left = numL + 'px';
                } else if (ev.keyCode === 38) {
                    numT -= 10;
                    box.style.top = numT + 'px';
                } else if (ev.keyCode === 39) {
                    numL += 10;
                    box.style.left = numL + 'px';
                } else if (ev.keyCode === 40) {
                    numT += 10;
                    box.style.top = numT + 'px';
                }
            }, 22);
        }

        document.onkeyup = function () {
            clearInterval(timer);
        }


    //测试停顿的时间
    // let old = new Date;
    // document.onkeydown = function(){
    //     let newd = new Date;

    //     console.log(newd - old)

    //     old = newd;
    // }
    </script>
</body>

</html>